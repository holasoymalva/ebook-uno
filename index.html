<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="src/styles/styles.css">
</head>

<body>
     <audio id="bgMusic" loop>
        <source src="src/songs/childhood.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div class="section" id="title-section">
        <div class="content">
            <h1 class="title">Cuando las flores cantan</h1>
            <h2 class="author">By Leon Martin</h2>
        </div>
    </div>

    <div class="story-section" id="story-section">
        <div class="story-content">
            <div class="story-text">


                <h3 class="story-title">Mec√°nico de coraz√≥nes</h3>
                <p class="story-paragraph">Me enamor√© de un auto usado y lleno de aver√≠as. Intent√© repararlo tanto como pude. Varios d√≠as me dej√≥ morado bajo la lluvia, pero yo no me rend√≠a. Lo llev√© al taller varias veces y, muchas otras, aprend√≠ cuanto pude para reparar los da√±os que sus due√±os anteriores hab√≠an causado. Ten√≠a tantos golpes que no sab√≠a si pod√≠a sacarlos todos.</p>
                <p class="story-paragraph">Por m√°s que lo intentaba, sent√≠a que algo andaba mal: los asientos ten√≠an posiciones distintas a las que yo hab√≠a dejado, aparec√≠an marcas nuevas y el kilometraje no me hac√≠a sentido.</p>
                <p class="story-paragraph">Un d√≠a descubr√≠ que sus antiguos due√±os a√∫n segu√≠an teniendo llaves y sol√≠an salir a pasear con √©l. Un d√≠a me cans√© de intentar repararlo, como quien se cansa de amar a una persona no correspondida, y lo dej√© justo ah√≠, donde se hab√≠a quedado.</p>


                <h3 class="story-title">Frente a los Ba√±os</h3>
                <p class="story-paragraph">Cuentan los burlones del 5¬∫ B que los chicos de 3¬∫ A descubrieron un dios salido de la tierra para cumplir las mandas de quienes se portan mal. Se dice que lo encontraron detr√°s de las canchas, justo donde termina la iglesia y comienza la escuela, escondido entre los arbustos como un tesoro maya.</p>
                <p class="story-paragraph">Nadie lo public√≥ en el peri√≥dico de la escuela, pero todos sab√≠an que se le rezaba entre recesos, en el ba√±o. Al poco tiempo surgieron ofrendas. El olor de aquel dios se hizo notar; incluso hubo mensajes divinos: ‚ÄúJorge es gay‚Äù, escrito en cursiva con caca de diferentes colores.</p>
                <p class="story-paragraph">La directora se lo atribuy√≥ a malhechores, pero el resto de la escuela lo sab√≠amos todo. Los de primer a√±o estaban pose√≠dos por el esp√≠ritu de una ni√±a, ya que esta madre ‚Äîantes‚Äî era un cementerio.</p>
                <p class="story-paragraph">Junto con la peste se hicieron notar los milagros: algunos profes se enfermaron, se suspendieron los ex√°menes y tuvimos muchas clases libres. Un d√≠a, as√≠ como llegaron los milagros, se marcharon. Todos lo supimos cuando un morro se avent√≥ de la escalera y le volaron los sesos.</p>
                <p class="story-paragraph">Lleg√≥ gente vieja, vestida de negro, y se llevaron a la directora. Como si fuera un alien, se llevaron aquel √≠dolo de caca en grandes bolsas negras y las subieron a una camioneta.</p>
                <p class="story-paragraph">Tras una semana sin clases, todo volvi√≥ a la normalidad. A√∫n se rumora que los vende dulces conservaron los dedos del dios para evitar ser atrapados, pero nada se ha confirmado.</p>
                <p class="story-paragraph">Nunca pude verlo de frente, pero sab√≠a que estaba ah√≠. Se sent√≠a su presencia en el aire cada que pasaba frente a los ba√±os.</p>

                <h3 class="story-title">Ef√≠mera y de otra dimensi√≥n</h3>
                <p class="story-paragraph">Me intoxiqu√© limpiando el ba√±o. El amon√≠aco ti√±√≥ mi vista de un verde alien, como si el mundo quisiera mandarme a otra dimensi√≥n. Antes de eso, estaba tirado en el sof√°, sumergido en el infinito scroll. Con un vac√≠o que ol√≠a a alcohol viejo, uno que no se llena, que intentaba tapar con vidas ajenas: perfiles que brillan un instante y se apagan antes de poder tocarlos.</p>
                <p class="story-paragraph">Entre tanta mierda digital, una isla: una biograf√≠a que dec√≠a ‚ÄúCosmopolita por Jap√≥n‚Äù. No lo entend√≠ del todo, pero algo en esa frase me atrap√≥. Su galer√≠a era un collage de caf√©s en Kioto, calles lluviosas de Tokio y playlists que tej√≠an puentes entre Bowie, Bj√∂rk y jazz japon√©s. Sent√≠ que hab√≠a encontrado un mensaje en una botella, flotando en el mar de selfies.</p>
                <p class="story-paragraph">Ya mareado por el amon√≠aco, me dej√© arrastrar por la corriente. Me imagin√© en una pel√≠cula de culto, de esas que nadie ve pero de las que todos hablan. Ella con un kimono rojo, y yo perdido en una hoodie negra. Bowie sonando de fondo. ‚ÄúLife on Mars?‚Äù acompa√±ando nuestros pasos por una Shibuya donde los letreros eran en espa√±ol y los sem√°foros titilaban como en el cine mudo.</p>
                <p class="story-paragraph">El sue√±o se volvi√≥ a√∫n m√°s raro. Ella me miraba y dec√≠a:<br>
                ‚Äî¬øSab√≠as que en Jap√≥n los sue√±os se guardan en cajas de cristal?<br>
                Yo respond√≠a:<br>
                ‚ÄîAqu√≠ los sue√±os se disuelven con amon√≠aco.<br>
                Re√≠a, y su risa era un rel√°mpago. De pronto, est√°bamos en un cine underground, viendo a Ozu, una vieja pel√≠cula de culto japon√©s, pero los personajes discut√≠an sobre Bowie y c√≥mo la m√∫sica puede salvar el mundo.</p>
                <p class="story-paragraph">La pel√≠cula terminaba, pero el sue√±o no. Ella se desvanec√≠a entre los cr√©ditos, y yo me quedaba solo, con la melod√≠a todav√≠a flotando. Despert√© en el sof√°, el tel√©fono en la mano. El ba√±o segu√≠a igual de sucio, y yo, m√°s perdido entre lo real y lo imaginario.</p>
                <p class="story-paragraph">Una notificaci√≥n me sac√≥ del sue√±o: un like de ella en una foto antigua, una que ni recordaba haber subido. La realidad se me escurri√≥ entre los dedos. El sue√±o volvi√≥ a empezar. Ahora, cada vez que suena Bowie, pienso en Jap√≥n, en ella, y en c√≥mo la vida a veces se parece demasiado a una pel√≠cula de culto: nadie la entiende.</p>


                <h3 class="story-title">M√∫sica para Dos Hermanos</h3>
                <p class="story-paragraph">√âramos dos hermanos, pero cuando nos par√°bamos en el puesto de discos del tianguis, sent√≠amos que √©ramos muchos m√°s. El mundo se hac√≠a grande entre los estuches rayados y las bocinas colgando de un cable. Se nos olvidaba el calor y el polvo pegado a los tenis. Entre cumbias y portadas de rock, so√±√°bamos con tener un iPod, uno de esos que solo ve√≠amos en las manos de quienes no van a los tianguis.</p>
                <p class="story-paragraph">Vend√≠amos dulces. A veces chicles, a veces caramelos que se derret√≠an antes de la hora de la comida. Guard√°bamos las monedas en una bolsita de tela que antes ten√≠a arroz. Cuando la sacud√≠amos, sonaba bonito, como si fuera una canci√≥n. No sab√≠amos nada de bancos, pero s√≠ de esperar y juntar poquito a poquito.</p>
                <p class="story-paragraph">El d√≠a que por fin juntamos el dinero, la bolsita pesaba distinto. Caminamos r√°pido al puesto. El iPod brillaba tanto que parec√≠a una estrella de otro universo. Mi hermano lo agarr√≥ con las dos manos, como si fuera un tesoro pirata. Yo solo me imaginaba a mam√° cantando en la cocina, pero ahora con Bowie o Los √Ångeles Azules de fondo. Todo junto, como si la m√∫sica pudiera arreglarlo todo.</p>
                <p class="story-paragraph">Pero mam√° nos detuvo en la puerta. ‚ÄúHoy es D√≠a del Padre‚Äù, dijo. Nos pidi√≥ que le compr√°ramos algo a pap√°, pero yo no quer√≠a. Vimos una chamarra azul, bonita, casi nueva. Pod√≠amos comprarla o pod√≠amos comprar el iPod. Dudamos, pero la voz de mam√° pes√≥ m√°s.</p>
                <p class="story-paragraph">Pap√° se puso la chamarra. Sonri√≥, pero era esa sonrisa rara que le sal√≠a cuando iba a salir a la calle. ‚ÄúVoy a dar una vuelta‚Äù, dijo. Regres√≥ tarde, borracho y sucio, con la camisa llena de besos y sin la chamarra. Nadie pregunt√≥ nada. La noche se sinti√≥ m√°s larga y el silencio m√°s grande.</p>
                <p class="story-paragraph">Mi hermano me mir√≥ con sus ojos grandes y tristes. No llor√≥. Solo me dijo bajito:<br>
                ‚ÄîNo te enojes. Todav√≠a podemos escuchar a mam√° cantar en las noches.</p>
                <p class="story-paragraph">Y s√≠. Esa noche, mam√° cant√≥ una canci√≥n que no conoc√≠amos, pero sonaba a todo lo que necesit√°bamos y a todo lo que ten√≠amos.<br>
                Nos acostamos juntos en una cama vieja que cruj√≠a cada vez que nos mov√≠amos, casi como un cart√≥n de perro.<br>
                Cerr√© los ojos y la voz de mam√° se mezcl√≥ con el recuerdo del iPod, el sonido de las monedas y la chamarra azul perdida.<br>
                Pens√© que, a veces, la m√∫sica no necesita aud√≠fonos ni aparatos bonitos. Solo hace falta un coraz√≥n que quiera escuchar.</p>


                <h3 class="story-title">Olvid√© los aud√≠fonos...</h3>
                <p class="story-paragraph">En alg√∫n lugar de mi casa, olvid√© mis aud√≠fonos, ¬øDe qu√© sirve tener m√∫sica si no puedes disfrutarla?, estuve vulnerable a las conversaciones de la gente del metro.</p>
                <p class="story-paragraph">Hubo una que me llam√≥ la atenci√≥n. Una chica repiti√©ndole a un tipo que lo amaba. Ella lo miraba, √©l la miraba, ambos se miraban, se besaban y suspiraban.</p>
                <p class="story-paragraph">Cuando llegamos a la estaci√≥n Pantitl√°n, ella con mucha ternura se despidi√≥ de √©l. Lo llen√≥ de besos, mientras repet√≠a que lo adoraba con un tono infantil. Me conmov√≠, y no lo niego, por un instante quer√≠a estar en su lugar.</p>
                <p class="story-paragraph">Al salir del vag√≥n quede detr√°s de ella, bajamos las escaleras, ella llevaba una lapicera de Hello Kitty y una peque√±a mochila en la que dif√≠cilmente entraba un estuche de maquillaje de color verde, a√∫n lo recuerdo y yo, la miraba con atenci√≥n, ten√≠a unos bonitos tatuajes en sus brazos, flores y tallos que bailaban al ritmo de sus movimientos, no lo niego me hubiera gustado ser aquel chico al que tanto quer√≠a.</p>
                <p class="story-paragraph">Continuamos caminando hasta llegar al trasbordo, ella aceler√≥ el paso, abrazo a otro chico que la esperaba en los torniquetes, se miraron tiernamente, se besaron y suspiraron, segu√≠ caminando y me lamente por aquellos batos.</p>
                <p class="story-paragraph">Extra√±aba mis aud√≠fonos, extra√±aba no entrometerme en otras vidas.</p>

                <h3 class="story-title">Donde los Gatos Bailan</h3>
                <p class="story-paragraph">Hab√≠a una vez un gato que no quer√≠a ser gato, de sus siete vidas solo le quedaba una, dormir y dormir, cada noche con menos ilusiones ¬øCazar? ¬øPara qu√© cazar? ¬øMaullar? ¬øPara qu√© Maullar? ¬øQu√© lo har√° diferente esta vez?</p>
                <p class="story-paragraph">Desilusionado, un d√≠a callo un libro del ropero, libro rojo que jam√°s hab√≠a visto en sus siete vidas y que al llegar a verlo, se vio a s√≠ mismo, gato pardo de ojos amarillos, ojos estrella y piel de mariposa, patitas de seda y cabello de membrillo. Y de entre las letras se vio a √©l vuelto humana, bailando ballet, donde los gatos bailan.</p>


                <h3 class="story-title">Canciones de Navidad</h3>
                <p class="story-paragraph">Trabaj√© en un lugar nefasto como camarera. Era el √∫nico trabajo que pod√≠a tomar durante las vacaciones; no ten√≠a muchas opciones. Estaba a las afueras de la ciudad, y mayormente se vend√≠a comida r√°pida. Era un sitio peculiar, sobre todo en los d√≠as festivos, como el D√≠a de la Madre o el D√≠a del Padre. Para ser sincera, nunca entend√≠ c√≥mo pod√≠a haber tantas personas a las que les agradara el lugar.</p>
                <p class="story-paragraph">El due√±o era un mezquino, y un d√≠a descubri√≥ que al poner canciones navide√±as, el tiempo que las personas pasaban en el local se reduc√≠a, incrementando las ganancias.</p>
                <p class="story-paragraph">Uno de esos d√≠as, un abuelito entr√≥ al lugar. Me record√≥ mucho a mi pap√°. El se√±or pidi√≥ una mesa y, cada vez que me acercaba a ofrecerle algo o atenderlo, me dec√≠a que no tardar√≠an en llegar sus hijos. Cuando llegaran, ellos sabr√≠an qu√© ordenar.</p>
                <p class="story-paragraph">El tiempo transcurri√≥. El lugar, poco a poco, comenz√≥ a vaciarse. Al llegar la hora del cierre, le preguntamos si se le ofrec√≠a una taza de caf√©, a lo cual el se√±or procedi√≥ a llorar y se retir√≥ del lugar.</p>
                <p class="story-paragraph">Aquel d√≠a me sent√≠ tan rota... Al ver a mi padre una √∫ltima vez en aquel restaurante antes de morir, solo quer√≠a abrazarlo, pero ten√≠a m√°s mesas que atender. Solo quer√≠a abrazarlo una vez m√°s.</p>


                <h3 class="story-title">ATM</h3>
                <p class="story-paragraph">Cuando era ni√±o mi abuelito me contaba que en los cajeros trabajaban duendes, ah√≠ viv√≠an, se ba√±aban, trabajaban, hac√≠an ruidos extra√±os y cuando se quedaban sin dinero, no daban servicio, corriendo por los t√∫neles de la ciudad al cajero m√°s cercano, prest√°ndose un poco de plata, llevando sus torpes y fumando frente Perisur de 3 a 4.</p>
                <p class="story-paragraph">Siento que me estoy convirtiendo uno de ellos, no se en que momento comence a cargar topers y me converti en un duente...</p>

                <h3 class="story-title">Bit√°coras de un Gato Marinero</h3>
                <p class="story-paragraph">Querida Mitchens, mi bola de estambre favorita:</p>
                <p class="story-paragraph">¬°Miau-vidades desde la Patagonia! S√≠, lo has le√≠do bien. Tu amigo Bigotes, el gato que sol√≠a dormir 20 horas al lado de la ventana, ahora es todo un lobo de mar. Bueno, mejor dicho un gato de mar. Un gati-nero, si lo prefieres.</p>
                <p class="story-paragraph">¬øRecuerdas aquella hermosa ave de plumaje tornasol que vimos una vez desde nuestra ventana? Pues resulta que no era una paloma con problemas de identidad como pens√°bamos. Era un choroy, un loro patag√≥nico. Y yo, como el rom√°ntico empedernido que soy (culpa de las pel√≠culas de Barbie y todos esos documentales de Animal Planet que ve√≠amos juntos), decid√≠ seguirla hasta el fin del mundo. Literalmente.</p>
                <p class="story-paragraph">As√≠ que aqu√≠ estoy, en un barco pesquero, rodeado de humanos que huelen a pescado (el para√≠so, b√°sicamente) y con m√°s agua a mi alrededor de la jam√°s quise ver en mis nueve vidas. La iron√≠a no se me escapa: un gato que odia el agua, navegando por uno de los mares mar turbulentos del mundo. Si mis antepasados egipcios me vieran ahora, seguro me desheredar√≠an.</p>
                <p class="story-paragraph">El capit√°n me ha nombrado oficial de control de roedores. Es un t√≠tulo elegante para decir que soy un gato caza ratones. Pero hey, un trabajo, es un trabajo, y al menos me pagan en at√∫n fresco.</p>
                <p class="story-paragraph">Te juro, Mitchens, que este viaje me est√° cambiando. Ya no le temo al agua (bueno, quiz√°s un poco). He aprendido a trepar por las redes de pesca, como solo los mejores gatos salvajes lo han hecho. Y he aprendido a predecir el clima mejor que el meteor√≥logo local (Que, ac√° entre nos, es un perro lazarillo con un pa√±uelo en el cuello, as√≠ que la competencia no es mucha).</p>
                <p class="story-paragraph">Pero lo m√°s incre√≠ble de todo es la vista. Oh, Mitchens, si pudieras ver los atardeceres aqu√≠. El cielo se pinta de colores que ni siquiera sab√≠a que exist√≠an. A veces, cuando el sol se hunde en el horizonte, juro que puedo ver el perfil de mi amada choroy volando hacia alg√∫n lugar lejano. En esos momentos, siento que mi coraz√≥n felino se expande tanto que temo que me vaya a estallar.</p>
                <p class="story-paragraph">Sin embargo, no todo es miel sobre hojuelas (o at√∫n sobre galletitas, en mi caso). El otro d√≠a tuvimos una tormenta tan fuerte que pens√© que tendr√≠a que usar mis siete vidas restantes de una sola vez. Me aferr√© al m√°stil como si fuera el rascador m√°s importante del mundo. Fue aterrador, pero ¬øSabes? Tambi√©n fue emocionante. Creo que empiezo a entender por qu√© los humanos buscan la aventura. </p>
                <p class="story-paragraph">A veces, en las noches tranquilas, cuando la luna se refleja en el agua como un gigantesco plato de leche celestial, me pregunto si estoy loco. ¬øQui√©n en su sano juicio cruza medio mundo por un ave que probablemente ni sabe que existo? Pero luego recuerdo su canto, la forma en que el sol hac√≠a brillar sus plumas, y s√© que aunque nunca la alcance, este viaje vale la pena.</p>
                <p class="story-paragraph">He visto ballenas tan grandes que hacen que nuestro viejo sof√° parezca una caja de arena. He jugado con delfines (desde la seguridad de la popa, claro est√°, no soy tan valiente todav√≠a). Incluso vi un ping√ºino una vez. Me gui√±o un ojo, el muy coqueto. Por un momento pens√© en invitarlo a cenar, pero luego record√© mi misi√≥n. Adem√°s, seguro que a la larga no funcionaria. Ya sabes, √©l un ave que no vuela, yo un gato de no nada‚Ä¶ demasiados problemas de compatibilidad.</p>
                <p class="story-paragraph">No s√© cu√°nto tiempo m√°s durar√° este viaje, ni si alguna vez encontrar√© a mi choroy. Pero ¬øSabes? Creo que ya no importa tanto. He descubierto un mundo mucho m√°s grande y maravilloso de lo que jam√°s imagin√©. Cada d√≠a es una nueva aventura, cada puerto, una nueva oportunidad de dejar mi huella.</p>
                <p class="story-paragraph">Mientras tanto, seguir√© navegando, so√±ando en plumas tornasol y pregunt√°ndome si los choroy tambi√©n sue√±an con gatos marineros.</p>
                <p class="story-paragraph">Te extra√±o, mi querida bola de estambre, Guardame un lugar c√°lido junto a la chimenea, por si alg√∫n d√≠a vuelvo. Aunque conociendo mi suerte, seguramente llegar√© en verano.</p>
                <p class="story-paragraph">Con amor y arena para gato en las patas, <br> Bigotes, tu amigo marinero.</p>
                <br>
                <p class="story-paragraph">Muchas, muchas gracias por leer üíö dentro de poco subire mas cuentos </p>
                <p class="story-paragraph">Atte: Malva </p>
            </div>
        </div>
    </div>

    <script>
        const leafCount = 30;
            const leaves = [];

            function createLeaves() {
                const body = document.body;
                for (let i = 0; i < leafCount; i++) {
                    const leaf = document.createElement('div');
                    leaf.className = 'leaf';
                    leaf.style.left = `${Math.random() * 100}vw`;
                    leaf.style.top = `${Math.random() * 100}vh`;
                    leaf.style.transform = `rotate(${Math.random() * 360}deg)`;
                    body.appendChild(leaf);
                    leaves.push({
                        element: leaf,
                        x: Math.random() * window.innerWidth,
                        y: Math.random() * window.innerHeight,
                        speedX: Math.random() * 2 - 1,
                        speedY: Math.random() * 2 + 1,
                        rotation: Math.random() * 360,
                        rotationSpeed: (Math.random() - 0.5) * 2
                    });
                }
            }

            function animateLeaves() {
                const documentHeight = Math.max(
                    document.body.scrollHeight,
                    document.documentElement.scrollHeight
                );
                leaves.forEach(leaf => {
                    leaf.x += leaf.speedX;
                    leaf.y += leaf.speedY;
                    leaf.rotation += leaf.rotationSpeed;
                    // Reiniciar la posici√≥n cuando la hoja sale de la vista
                    if (leaf.y > window.innerHeight + window.scrollY) {
                        leaf.y = window.scrollY - 50;
                        leaf.x = Math.random() * window.innerWidth;
                    }
                    // Si la hoja sale por los lados, reubicarla
                    if (leaf.x < -50) leaf.x = window.innerWidth;
                    if (leaf.x > window.innerWidth + 50) leaf.x = -50;
                    leaf.element.style.transform = `translate(${leaf.x}px, ${leaf.y}px) rotate(${leaf.rotation}deg)`;
                    // Ajustar la opacidad basada en la posici√≥n en la p√°gina
                    const scrollProgress = window.scrollY / (documentHeight - window.innerHeight);
                    const fadeStart = 0.8; // Punto donde comienza el fade out
                    if (scrollProgress > fadeStart) {
                        const fadeOutProgress = (scrollProgress - fadeStart) / (1 - fadeStart);
                        leaf.element.style.opacity = Math.max(0, 1 - fadeOutProgress);
                    } else {
                        leaf.element.style.opacity = 1;
                    }
                });
                requestAnimationFrame(animateLeaves);
            }

            function handleScroll() {
                const scrolled = window.scrollY;
                const windowHeight = window.innerHeight;

                // T√≠tulo y autor
                const title = document.querySelector('.title');
                const author = document.querySelector('.author');
                if (scrolled < windowHeight) {
                    title.classList.add('visible');
                    author.classList.add('visible');
                    const scale = 1 + (scrolled / windowHeight) * 0.5;
                    const opacity = 1 - (scrolled / windowHeight);
                    document.querySelector('.content').style.transform = `scale(${scale}) translateZ(${scrolled}px)`;
                    title.style.opacity = opacity;
                    author.style.opacity = opacity;
                }

                // Historia y t√≠tulos de cada cuento
                const storyContent = document.querySelector('.story-content');
                const storyTitles = document.querySelectorAll('.story-title');
                const storyRect = document.querySelector('.story-section').getBoundingClientRect();

                if (storyRect.top < windowHeight * 0.8) {
                    storyContent.classList.add('visible');

                    // Iterar sobre cada t√≠tulo y hacerlos visibles uno por uno
                    storyTitles.forEach((storyTitle) => {
                        const rect = storyTitle.getBoundingClientRect();
                        if (rect.top < windowHeight * 0.8) {
                            storyTitle.classList.add('visible');
                        }
                    });

                    // Revelar p√°rrafos gradualmente
                    const paragraphs = document.querySelectorAll('.story-paragraph');
                    paragraphs.forEach((paragraph, index) => {
                        const rect = paragraph.getBoundingClientRect();
                        if (rect.top < windowHeight * 0.9) {
                            setTimeout(() => {
                                paragraph.classList.add('visible');
                            }, index * 200);
                        }
                    });
                }
            }

            window.addEventListener('load', () => {
                createLeaves();
                animateLeaves();
                handleScroll();
            });
            window.addEventListener('scroll', () => {
                requestAnimationFrame(handleScroll);
            });
            window.addEventListener('resize', () => {
                leaves.forEach(leaf => {
                    leaf.x = Math.random() * window.innerWidth;
                    leaf.y = Math.random() * window.innerHeight;
                });
            });
            // Funci√≥n para crear el efecto de rastro del cursor
            function createTrailEffect(e) {
                const trail = document.createElement('div');
                trail.className = 'cursor-trail';
                trail.style.left = e.clientX + 'px';
                trail.style.top = e.clientY + window.scrollY + 'px';
                document.body.appendChild(trail);
                // Eliminar el elemento despu√©s de la animaci√≥n
                setTimeout(() => {
                    trail.remove();
                }, 1000);
            }
            // Funci√≥n para limitar la frecuencia de creaci√≥n de efectos
            function throttle(func, limit) {
                let inThrottle;
                return function (e) {
                    if (!inThrottle) {
                        func(e);
                        inThrottle = true;
                        setTimeout(() => inThrottle = false, limit);
                    }
                }
            }
            // Agregar el evento del mouse con throttle
            document.addEventListener('mousemove', throttle(createTrailEffect, 50));



            // Configuraci√≥n de las flores
            const FLOWER_CONFIG = {
                count: 12, // N√∫mero total de flores a mostrar
                sizes: ['small', 'normal', 'large'], // Clases de tama√±os
                baseDepth: 0.05, // Profundidad base para el efecto parallax
            };

            // Funci√≥n para crear flores con parallax
            function createParallaxFlowers() {
                const flowers = [];

                for (let i = 1; i <= FLOWER_CONFIG.count; i++) {
                    const flower = document.createElement('div');
                    flower.className = 'parallax-flower';

                    // A√±adir clase de tama√±o aleatoria
                    const sizeClass = FLOWER_CONFIG.sizes[Math.floor(Math.random() * FLOWER_CONFIG.sizes.length)];
                    flower.classList.add(sizeClass);

                    const img = document.createElement('img');
                    // Usar la ruta correcta a las im√°genes
                    const imageNumber = Math.floor(Math.random() * 4) + 1; // Asumiendo que tienes 4 im√°genes
                    img.src = `src/pictures/flowers/${imageNumber}.png`;
                    img.alt = `Flower ${imageNumber}`;

                    // Configurar la posici√≥n y rotaci√≥n inicial
                    flower.appendChild(img);
                    flower.style.left = `${Math.random() * 100}vw`;
                    flower.style.top = `${Math.random() * 100}vh`;

                    // A√±adir una rotaci√≥n inicial aleatoria
                    const initialRotation = Math.random() * 360;
                    flower.style.transform = `rotate(${initialRotation}deg) scale(${0.8 + Math.random() * 0.4})`;

                    document.body.appendChild(flower);

                    // Almacenar propiedades de movimiento
                    flowers.push({
                        element: flower,
                        depth: FLOWER_CONFIG.baseDepth * (1 + Math.random()),
                        rotationSpeed: (Math.random() - 0.5) * 0.1,
                        initialX: parseFloat(flower.style.left),
                        initialY: parseFloat(flower.style.top),
                        amplitude: {
                            x: Math.random() * 30 + 20,
                            y: Math.random() * 30 + 20
                        }
                    });
                }

                return flowers;
            }

            // Funci√≥n para actualizar la posici√≥n de las flores con parallax
            function updateParallaxFlowers(flowers, mouseX, mouseY) {
                const windowWidth = window.innerWidth;
                const windowHeight = window.innerHeight;

                flowers.forEach(flower => {
                    const rect = flower.element.getBoundingClientRect();
                    const centerX = rect.left + rect.width / 2;
                    const centerY = rect.top + rect.height / 2;

                    // Calcular el movimiento basado en la posici√≥n del mouse
                    const deltaX = (mouseX - windowWidth / 2) * flower.depth;
                    const deltaY = (mouseY - windowHeight / 2) * flower.depth;

                    // Aplicar transformaci√≥n con parallax y rotaci√≥n suave
                    flower.element.style.transform = `
                    translate(
                        ${deltaX}px,
                        ${deltaY}px
                    )
                    rotate(${deltaY * flower.rotationSpeed}deg)
                `;
                });
            }

            // Funci√≥n para manejar el scroll y actualizar la opacidad
            function handleFlowerScroll(flowers) {
                const scrollProgress = window.scrollY / (document.documentElement.scrollHeight - window.innerHeight);
                const fadeStart = 0.8;

                flowers.forEach(flower => {
                    if (scrollProgress > fadeStart) {
                        const fadeOutProgress = (scrollProgress - fadeStart) / (1 - fadeStart);
                        flower.element.style.opacity = Math.max(0, 0.7 - fadeOutProgress);
                    } else {
                        flower.element.style.opacity = 0.7;
                    }
                });
            }

            // Inicializaci√≥n
            document.addEventListener('DOMContentLoaded', () => {
                const flowers = createParallaxFlowers();
                let rafId = null;

                // Evento de movimiento del mouse para parallax
                document.addEventListener('mousemove', (e) => {
                    if (rafId) {
                        cancelAnimationFrame(rafId);
                    }

                    rafId = requestAnimationFrame(() => {
                        updateParallaxFlowers(flowers, e.clientX, e.clientY);
                    });
                });

                // Manejar scroll
                window.addEventListener('scroll', () => {
                    requestAnimationFrame(() => {
                        handleFlowerScroll(flowers);
                    });
                });

                // Manejar redimensionamiento de ventana
                window.addEventListener('resize', () => {
                    flowers.forEach(flower => {
                        flower.element.style.left = `${Math.random() * 100}vw`;
                        flower.element.style.top = `${Math.random() * 100}vh`;
                    });
                });

                // Resto del c√≥digo existente...
                createLeaves();
                animateLeaves();
                handleScroll();
            });



            // Add minimal audio functionality
            document.addEventListener('DOMContentLoaded', () => {
                const audio = document.getElementById('bgMusic');

                // Set initial volume
                audio.volume = 0.5;

                // Handle autoplay with user interaction requirement
                const startAudio = () => {
                    audio.play().catch(() => {
                        // If autoplay was prevented, wait for user interaction
                        document.addEventListener('click', () => {
                            audio.play();
                        }, { once: true });
                    });
                };

                // Start audio when document is ready
                startAudio();
            });
    </script>
</body>

</html>
